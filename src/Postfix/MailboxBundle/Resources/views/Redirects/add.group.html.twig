{% extends "PostfixMailboxBundle:Mailboxes:layout.html.twig" %}

{% block sub_body %}
{% include '::alert.html.twig' %}
<h3>{{ redirect.id is null ? 'Ajouter' : 'Éditer' }} une redirection de groupe</h3>
<div class="row">
	<div class="col-lg-12">
		<div class="well">
			<form method="post">
				<div class="row">
					<div class="col-lg-5">
						<div class="form-group">
							<label>Source</label>
							<input type="text" id="source" name="source" class="form-control" placeholder="Tapez l'alias à rediriger sans le nom de domaine" value="{{ redirect.sourceUser }}" autofocus />
						</div>
					</div>
					<div id="chevron-right" class="col-lg-1">
						<span class="glyphicon glyphicon-chevron-right"></span>
					</div>
					<div class="col-lg-6">
						<div class="form-group">
							<label>Destination</label>
							<select id="destination" name="destination[]" class="bootstrap-select" title="Sélectionner une boite e-mail" multiple>
							{% set active = redirect.destination|split(',') %}
							{% for mailbox in mailboxes %}
								<option value="{{ mailbox.mail }}" {% if mailbox.mail in active %}selected="selected"{% endif %}>{{ mailbox.mail }}</option>
							{% endfor %}
							</select>
						</div>
					</div>
				</div>
				<div class="form-group">
					<button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"></span> Sauvegarder</button>
				</div>
			</form>
		</div>
	</div>
</div>
{% endblock %}